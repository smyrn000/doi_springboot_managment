import{_ as f,u as h,c as m,a as e,w as u,v as d,d as p,F as v,r as _,o as a,t as k,p as y,e as g}from"./index-g5GNysKY.js";const w={setup(){return{router:h()}},data(){return{membersList:[],member:"",form:{purpose:"",katastatiko:"",hq:"",members:"",entry_date:Date.now(),status:""}}},methods:{async submitForm(){this.form.members=this.membersList.join(", "),console.log(this.form);const o=localStorage.getItem("token"),t=parseInt(localStorage.getItem("user_id"));if(console.log(this.form),!!o)try{const l=await fetch(`http://localhost:8080/forms/?user_id=${t}`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(this.form)});if(!l.ok)throw new Error("Failed to submit form");const b=await l.json();alert("Η Αίτηση Καταχωρήθηκε με Επιτυχία"),console.log("Form submitted successfully",b),this.router.push("/user")}catch(l){console.error("Error submitting form:",l)}},addMember(){this.member&&(this.membersList.push(this.member),this.member="")},removeMember(o){this.membersList.splice(o,1)},updateMembers(){}}},n=o=>(y("data-v-605bdc8b"),o=o(),g(),o),S=n(()=>e("h1",null,"Αίτηση για Άσκηση Επιχειρηματικής Δραστηριότητας",-1)),x=n(()=>e("label",null,"Σκοπός Επιχείρησης:",-1)),F=n(()=>e("label",null,"Καταστατικό Λειτουργίας:",-1)),I=n(()=>e("label",null,"Έδρα Επιχείρησης:",-1)),L=n(()=>e("label",null,"Πρόσθεση Μέλους:",-1)),M={class:"add-member"},V={class:"member-class"},U=n(()=>e("label",null,"Μέλη:",-1)),B={key:1},D=n(()=>e("div",null,[e("button",{type:"submit"},"Submit")],-1));function j(o,t,l,b,r,i){return a(),m("div",null,[S,e("form",{onSubmit:t[6]||(t[6]=p((...s)=>i.submitForm&&i.submitForm(...s),["prevent"]))},[e("div",null,[x,u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r.form.purpose=s)},null,512),[[d,r.form.purpose]])]),e("div",null,[F,u(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>r.form.katastatiko=s)},null,512),[[d,r.form.katastatiko]])]),e("div",null,[I,u(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>r.form.hq=s)},null,512),[[d,r.form.hq]])]),e("div",null,[L,u(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>r.member=s)},null,512),[[d,r.member]]),e("div",null,[e("div",M,[e("button",{onClick:t[4]||(t[4]=p(s=>i.addMember(),["prevent"]))},"Πρόσθεσε"),e("button",{onClick:t[5]||(t[5]=p(s=>i.removeMember(),["prevent"]))},"Αφαίρεσε")])])]),e("div",V,[U,r.membersList.length?(a(!0),m(v,{key:0},_(r.membersList,(s,c)=>(a(),m("div",{key:c},k(s),1))),128)):(a(),m("label",B,"Κανένα Μέλος"))]),D],32)])}const C=f(w,[["render",j],["__scopeId","data-v-605bdc8b"]]);export{C as default};
